---
layout: post
authors: [tom_van_den_bulck,yannick_de_turck]
title: 'Devoxx FR 2019'
image: /img/devoxx-ma-2018/devoxx-ma.png
tags: [Devoxx,Java,Agile,Conference]
category: Conference
comments: true
---

> [Devoxx MA](https://devoxx.ma/){:target="_blank"} is a yearly conference in Paris, France.
> Trhee colleagues of Ordina JWorks: Yannick De Turck, Tim Ysewyn and Tom Van den Bulck 
attended the conference, where all of them were welcomed as a speaker.
> In this blog post we share our impressions and experiences.

<img class="image fit" src="{{ '/img/devoxx-ma-2018/JWorks@DevoxxMA.jpg' | prepend: site.baseurl }}" alt="JWorks @ Devoxx MA" width="60%" />

# Table of contents

* [The Speakers Dinner](#the-speakers-dinner)
* [Applying (D)DDD and CQ(R)S to Cloud Architectures with Java, Spring Boot, Kafka and Docker by Benjamin Nothdurft, Michael Follmann and Dominik Guhr](#applying-dddd-and-cqrs-to-cloud-architectures-with-java-spring-boot-kafka-and-docker-by-benjamin-nothdurft)
* [Modern Java: Change is the Only Constant by Mark Reinhold](#modern-java-change-is-the-only-constant-by-mark-reinhold)
* [Meet Micronaut: a reactive microservices framework for the JVM by Álvaro Sánchez-Mariscal](#meet-micronaut-a-reactive-microservices-framework-for-the-jvm-by-álvaro-sánchez-mariscal)

## The Speakers dinner
The evening before the conference started, we had the speakers dinner sponsored by [Lightbend](https://www.lightbend.com){:target="_blank" rel="noopener noreferrer"}.
The dinner was held at restaurant [Kasar El Hamra](http://www.restaurant-ksarelhamra.net){:target="_blank" rel="noopener noreferrer"} in the center of Marrakesh.
On our way to the center we got to experience the Moroccan traffic which seemed to be pretty chaotic with all the cars and motorcycles zipping around, evading each other on the streets.
Once arrived, we got treated with Moroccan dishes.
One after the other, each of them truly delicious. 

<img class="image fit" src="{{ '/img/devoxx-ma-2018/speakers-dinner.jpg' | prepend: site.baseurl }}" alt="Speakers Dinner" width="60%" />

## Applying (D)DDD and CQ(R)S to Cloud Architectures with Java, Spring Boot, Kafka and Docker by [Benjamin Nothdurft](https://twitter.com/DataDuke){:target="_blank" rel="noopener noreferrer"}
<span class="image left"><img class="p-image" alt="Benjamin Nothdurft" src="/img/devoxx-ma-2018/speaker-benjamin-nothdurft.png"></span>
Benjamin started off by giving a brief introduction on Domain-Driven Design explaining the different building blocks such as domains, domain events, ubiquitous language and Event Storming.  
He also mentioned the famous two books: [Domain-Driven Design by Eric Evans](https://www.oreilly.com/library/view/domain-driven-design-tackling/0321125215/){:target="_blank" rel="noopener noreferrer"} and [Implementing Domain-Driven Design by Vaugn Vernon](https://www.amazon.com/Implementing-Domain-Driven-Design-Vaughn-Vernon/dp/0321834577){:target="_blank" rel="noopener noreferrer"}.

Benjamin went through all the different steps of Event Storming.
The goal is to bring people of different silos together, such as developers, analysts, architects and business experts.
Together you want to create a logically ordered sequence of events to document a system using an ubiquitous language i.e. everybody using the same vocabulary and terms.
Events describe things that have happened and are thus always in the past tense e.g. product added to cart.
In a next step you want to identify commands, which are the triggers of events e.g. add product to cart.
There are also aggregates which represent the data that is interacted with.
And finally you want to identify the bounded contexts grouping relevant parts together.

Benjamin then explained how this all gets translated to your system architecture.
Each bounded context can be mapped to a single microservice.
He covered different context map patterns such as event publisher, shared kernel, customer/supplier and anti-corruption layer together with detailed code samples.
Afterwards he went through a CQRS example with many code samples and the questions you should be asking yourself when determining the right architecture.
We really liked how in-depth everything was as many presentations about Domain-Driven Design usually remain rather abstract and high-level.

You can check out Benjamin's slides on [slides.com](https://slides.com/dataduke/2019-04-03-ddd-cqrs-cloud-181){:target="_blank" rel="noopener noreferrer"}.
You can check out Benjamin's slides on [slides.com](https://slides.com/dataduke/2019-02-19-event-storming-180){:target="_blank" rel="noopener noreferrer"}.

## Modern Java: Change is the Only Constant by [Mark Reinhold](https://twitter.com/mreinhold){:target="_blank" rel="noopener noreferrer"}
Monolithic platform (JDK) that got sliced up into modules and how they did it.
Leads to smaller packages of your application.
Makes it more secure as well thanks to stronger encapsulation.
A couple of Zero Day exploits could have been avoided with stronger encapsulation.
Restrict access to internal packages, it will no longer compile and it may generate warning at runtime.
From releases of several years to releases of every 6 months.

$ jdeps --jdk-internals app.jar
Check if internal APIs are used

In theory, if your code only uses standard Java SE EAPIs that it will. most likely work without changes.
More info, see: jeps/291

Java.se.ee and corba modules were removed in Java 11.
Costly to maintain, source of vulnerabilities.
Other obscure methods were removed in Java 9 such as a couple of add/removePropertyChangeListeners
lots of methods in SecurityManager

To be removed:
Some methods in java.util.zip, java.security,…
Lots of older methods that are not really that interesting any more.

JDK 9: 90 JEPs
6 JEPs came from outside Oracle

JDK 10: 12 JEPs
2 JEPs from other contributors (304, 316)

JDK 11: 17 JEPs
3 JEPs from others (315, 318, 331)
2458 issues resolved (1963 solved by Oracle, 169 by SAP and others)
LTE (next one will be JDK 17)

JDK 12: 8 JEPs
1 JEPs from other contributor (189)

Every release is PRD ready, only difference is support time.

“Java is still free.”
Quote Andrew Haley: “Finally, please let me assure you of one thing: whether by Oracle or
Red Hat or someone else, JDK LTS releases will continue to be
supported. We all have a lot invested in Java, and we won't let it
fall.”
source: http://mail.openjdk.java.net/pipermail/jdk-dev/2018-August/001826.html

Oracle JDK vs OpenJDK
Choose between LTS version and big upgrade migrations or latest release with small migrations every 6 months.
Feature release: Make sure your tools and dependencies can keep up!

4 reasons not to worry about it
- advanced notice before removing anything (@Deprecated (…))
- Make the choose yourself between LTS or feature releases
- Java is still free
- Some things might break but it shouldn’t take much work to fix them

Asked on Twitter to library maintainers if they worked fine on JDK9, same question was asked when JDK 11 got released.
A lot of libraries were already upgraded for JDK 11.

If you’r eusing Java 9 or lateer, upgrade to the latest version of your tools and other dependencies.
“Everything changes and nothing stands still Heraclitus”

Important things when working on new version:
- Developer productivity
- Program performance
- In the case of constantly evolving programming paradigms, application areas, deployment styles and hardware

Amber: Right-sizing languages ceremony (reducing boilerplate)
- Better and improved type inference with a smarter compiler
- Less keyboard typing for you
- Fix error prone things such as switch case on enums with pattern matching where the compiler detects whether a default is needed or not
- Multi-line strings (Java 13 JEP TBD)
- Value classes for data containers: record Point(double x, double y)
Loom: Fibers
- Similar to threads but different
    - Fibers are simpler than threads
    - Fibers work well with CompletableFutures
- Gave a demo on the performance
Valhalla: Value types & specialized generics
- No time to cover these

## Meet Micronaut: a reactive microservices framework for the JVM by [Álvaro Sánchez-Mariscal](https://twitter.com/alvaro_sanchez){:target="_blank" rel="noopener noreferrer"}
Reality of existing frameworks
- Frameeworks based on reflection and annotations become fat
- But we love the programming modeel and productivity model so we livee with it
- So… why should wee be more efficient?

What Spring and Jakarta EE do
Spring is an amazing technical achievement but many things are done at runttime
- reads the byte code of every bean it finds
- synthesize new annotations on each bean method, constructor,… to support annotation metadata
Leads to high startup time and memory consumption

Micronaut is a new framework created by the creators of Grails.
Goal: productivity of spring boot/grails with the performance of a compile-time, non-blocking framework
Designed from the groud up with microservices and cloud in mind
Ultra lightweight and reactive (based on netty instead of tomcat)
Internals are reactive 
Integrated AOP and compile-time DI for Java, Groovy and Kotlin
Annotation processors for Java and Jotlin
AST transformations for Groovy

Open Source
Announced 1 year ago, may 2018. 2 years of development behind the scene

Build:
- Microservices
- Serverless applications
- Message-driven applications with kafka/rabbit
- CLI applications
- Android applications
- Simple static void main(String.. args) things

Can be even faster with GraalVM (still experimental though)

Coding demo
Micronaut project with Consul for service discovery
Greeting application with tests
52ms to start with Consul registration (with GraalVM?)
Multiple instances of the same microservicee
Second application created for the gateway
Has reactive types such as Single, non blocking, similar to a future
Wrote a non-blocking api in the gateway that merges two calls to the greeting application

Another demo of an application on Google Cloud Run (serverless based on containers)
Preferred over AWS by the speaker.

Resources
3hr workshop: https://alvarosanchez.github.io/micronaut-workshop-java/ 


## Summing it all up
Devoxx FR was amazing experience for us where we got to meet and befriend a lot of great people.
The date for next year's edition has already been announced and will happen on ...
Be sure to mark it in your agenda!